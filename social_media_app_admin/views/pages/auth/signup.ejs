<%- contentFor('HeaderCss') %>

<%- contentFor('body') %>

<div class="auth-page-wrapper pt-5">
  <div class="auth-one-bg-position auth-one-bg" id="auth-particles">
    <div class="bg-overlay"></div>
    <div class="shape"></div>
  </div>

  <div class="auth-page-content">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="text-center mt-sm-5 mb-4 text-white-50">
            <div>
              <a href="/" class="d-inline-block auth-logo">
                <img src="/assets/images/logo-light.png" alt="" height="20">
              </a>
            </div>
            <p class="mt-3 fs-15 fw-medium">Sign Up</p>
          </div>
        </div>
      </div>

      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6 col-xl-5">
          <div class="card mt-4">
            <div class="card-body p-4">
              <div class="text-center mt-2">
                <h5 class="text-primary">Create Account</h5>
                <p class="text-muted">Get your free account now</p>
              </div>

              <div class="p-2 mt-4">
                <!-- Error Message -->
                <% if (errors) { %>
                <div class="alert alert-danger alert-border-left alert-dismissible fade show" role="alert">
                  <i class="ri-error-warning-line me-2 align-middle"></i>
                  <%= errors %>
                  <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                <% } %>

                <!-- Success Message -->
                <% if (success) { %>
                <div class="alert alert-success alert-border-left alert-dismissible fade show" role="alert">
                  <i class="ri-checkbox-circle-line me-2 align-middle"></i>
                  <%= success %>
                  <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                <% } %>

                <form action="/signup" method="POST" class="needs-validation" novalidate>
                  
                  <!-- Name -->
                  <div class="mb-3">
                    <label for="name" class="form-label">Name <span class="text-danger">*</span></label>
                    <input 
                      type="text" 
                      class="form-control" 
                      id="name" 
                      name="name" 
                      value="<%= old ? old.name : '' %>" 
                      placeholder="Enter name" 
                      required
                    >
                    <div class="invalid-feedback">Please enter your name</div>
                  </div>

                  <!-- Email -->
                  <div class="mb-3">
                    <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                    <input 
                      type="email" 
                      class="form-control" 
                      id="email" 
                      name="email" 
                      value="<%= old ? old.email : '' %>" 
                      placeholder="Enter email" 
                      required
                    >
                    <div class="invalid-feedback">Please enter a valid email</div>
                  </div>

                  <!-- Password -->
                  <div class="mb-3">
                    <label class="form-label" for="password">Password <span class="text-danger">*</span></label>
                    <div class="position-relative auth-pass-inputgroup">
                      <input 
                        type="password" 
                        class="form-control pe-5 password-input" 
                        name="password" 
                        placeholder="Enter password" 
                        id="password" 
                        aria-describedby="passwordHelp"
                        required
                      >
                      <button class="btn btn-link position-absolute end-0 top-0 text-decoration-none text-muted password-addon" type="button" id="password-addon">
                        <i class="ri-eye-fill align-middle"></i>
                      </button>
                    </div>
                    <div id="passwordHelp" class="form-text">Must be at least 6 characters</div>
                  </div>

                  <!-- Terms -->
                  <div class="mb-4">
                    <p class="mb-0 fs-12 text-muted fst-italic">
                      By registering you agree to the 
                      <a href="#" class="text-primary text-decoration-underline fst-normal fw-medium">Terms of Use</a>
                    </p>
                  </div>

                  <!-- Submit Button -->
                  <div class="mt-4">
                    <button class="btn btn-success w-100" type="submit">Sign Up</button>
                  </div>

                </form>
              </div>
            </div>
          </div>

          <div class="mt-4 text-center">
            <p class="mb-0">Already have an account? <a href="/login" class="fw-semibold text-primary text-decoration-underline"> Log In </a></p>
          </div>

        </div>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="text-center">
            <p class="mb-0 text-muted">&copy; <%= new Date().getFullYear() %> Your Platform. All rights reserved.</p>
          </div>
        </div>
      </div>
    </div>
  </footer>
</div>

<%- contentFor('FooterJs') %>
<script src="/assets/libs/particles.js/particles.js"></script>
<script src="/assets/js/pages/particles.app.js"></script>
<script src="/assets/js/pages/password-addon.init.js"></script>

<script>
// Form validation
(function () {
  'use strict'
  var forms = document.querySelectorAll('.needs-validation')
  Array.prototype.slice.call(forms).forEach(function (form) {
    form.addEventListener('submit', function (event) {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }
      form.classList.add('was-validated')
    }, false)
  })
})()
</script>
